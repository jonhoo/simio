#
# Bellman Ford IO Automata
#

Name:
	BellmanFord

Signature-Input:
	receive(m)

Signature-Output:
	send(m) connect receive

State:
	self.parent = None
	self.dist = self.i == 0 and 0 or None

Transition-Name:
	send(m)
Transition-Precondition:
	return self.dist is not None
Transition-Output:
	m = (self.i, self.dist)

Transition-Name:
	receive(m)
Transition-Effect:
	act = m[1] + self.weights[m[0]]
	if self.dist is None or act < self.dist:
		self.dist = m[1]
		self.parent = m[0]
	print("all the nodes are" + N)

Tasks:
	send(m)
