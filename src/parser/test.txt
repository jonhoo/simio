#
# dur
#

Name:
	Dummy

Signature-Input:
	read(m)

Signature-Internal:
	tick

Signature-Output:
	write(m) connect read

State:
	# map of message queues
	self.msgs = {}
	self.counter = 0
	self.mcount = 0

# dummy method
Transition-Name:
	tick
Transition-Precondition:
	return False
Transition-Effect:
	self.counter += 1

Transition-Name:
	read(m)
Transition-Effect:
	d = self.nbrs[0]
	print 'im %d, sending to %d' % (i, self.nbrs[0])
	if self.msgs.has_key(d):
		self.msgs[d].append(m)
	else:
		self.msgs[d] = [m]

Transition-Name:
	write(m)
Transition-Precondition:
	if self.mcount > 10:
		return False
	if self.msgs.has_key(to):
		return len(self.msgs[to])
	return False
Transition-Output:
	return self.msgs[to][0]
Transition-Effect:
	self.msgs[to] = self.msgs[to][1:]
	self.mcount += 1

Tasks:
	write(m)
